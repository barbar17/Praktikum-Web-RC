<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript" src="jquery-3.5.1.min.js"></script>
        <link rel="stylesheet" type="text/css" href="CSS_tampil.css">
    </head>
    <body>
        <div>
            <form method="post" id="form_mahasiswa">
                <fieldset>
                    <legend class="bold">Tambah Data Mahasiswa</legend>
                    <table>
                        <tr>
                            <td><label>NIM</label></td>
                            <td><input type="number" name="nim"></td>
                        </tr>
                        <tr>
                            <td><label>Nama</label></td>
                            <td><input type="text" name="nama"></td>
                        </tr>
                        <tr>
                            <td><label>Prodi</label></td>
                            <td><select name="prodi">
                                <option value="IF">Informatika</option>
                                <option value="EL">Elektro</option>
                                <option value="SI">Sipil</option>
                                <option value="TG">Geofisika</option>
                                <option value="MA">Matematika</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><label>Angkatan</label></td>
                            <td><input type="number" name="angkatan"></td>
                        </tr>
                    </table>
                </fieldset>
            </form>
            <p></p>
            <button id="btn_tambah">Tambahkan</button>
            <p></p>
        </div>

        <div>
            <form method="post" id="form_ubah_data">
                <fieldset>
                    <legend class="bold">Rubah Data Mahasiswa</legend>
                    <table>
                        <tr>
                            <td><label>NIM</label></td>
                            <td><input type="number" name="nim"></td>
                        </tr>
                        <tr>
                            <td><label>Nama</label></td>
                            <td><input type="text" name="nama"></td>
                        </tr>
                        <tr>
                            <td><label>Prodi</label></td>
                            <td><select name="prodi">
                                <option value="IF">Informatika</option>
                                <option value="EL">Elektro</option>
                                <option value="SI">Sipil</option>
                                <option value="TG">Geofisika</option>
                                <option value="MA">Matematika</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><label>Angkatan</label></td>
                            <td><input type="number" name="angkatan"></td>
                        </tr>
                    </table>
                </fieldset>
            </form>
            <p></p>
            <button id="btn_ubah">Rubah</button>
            <p></p>
        </div>

        <div>
            <fieldset>
                <legend class="bold">Hapus Data Mahasiswa</legend>
                <label>NIM</label>
                <input type="number" name="nim" id="hapus_nim">
            </fieldset>
            <p></p>
            <button id="btn_hapus">Hapus</button>
            <p></p>
        </div>

        <hr>
        <div id="tampil_data"></div>
        <script>
            $(document).ready(function(){
                $('#tampil_data').load("tampil_mahasiswa.php");
                $('#btn_tambah').click(function(){
                    var data = $('#form_mahasiswa').serialize();
                    $.ajax({
                        type    : 'POST',
                        url     : "tambah_mahasiswa.php",
                        data    : data,
                        cache   : false,
                        success : function(data){
                            $('#tampil_data').load("tampil_mahasiswa.php");
                        }
                    });
                });
            });

            $(document).ready(function(){
                $('#tampil_data').load("tampil_mahasiswa.php");
                $('#btn_ubah').click(function(){
                    var data = $('#form_ubah_data').serialize();
                    $.ajax({
                        type    : 'POST',
                        url     : "ubah_mahasiswa.php",
                        data    : data,
                        cache   : false,
                        success : function(data){
                            $('#tampil_data').load("tampil_mahasiswa.php");
                        }
                    });
                });
            });

            $(document).ready(function(){
                $('#tampil_data').load("tampil_mahasiswa.php");
                $('#btn_hapus').click(function(){
                    var nim = $('#hapus_nim').val();
                    $.ajax({
                        type    : 'POST',
                        url     : "hapus_mahasiswa.php",
                        data    : {nim:nim},
                        success : function(data){
                            $('#tampil_data').load("tampil_mahasiswa.php")
                        }
                    })
                })
            })
        </script>
    </body>
</html>